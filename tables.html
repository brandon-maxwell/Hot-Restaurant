<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Hot Restaurant Tables</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1>Hot Restaurant</h1>
            <h3>Current Reservations and Waiting List</h3>
            <hr />
            <a href="/">
                <button class="btn btn-primary btn-lg">
                    <span class="fa fa-eye"></span> Make Reservation
                </button>
            </a>
            <a href="/">
                <button class="btn btn-danger btn-lg">
                    <span class="fa fa-eye"></span> Home
                </button>
            </a>
        </div>
        <div class="row">
            <div class="col-lg-12">
      
              <!-- Current Tables in Use -->
              <div class="card">
                <div class="card-header">
                  <h4>Current Reservations</h4>
                </div>
                <div class="card-body">
                  <ul id="tableList" class="list-group"></ul>
                </div>
              </div>
      
              <!-- Waiting List Card -->
              <div class="card mt-4">
                <div class="card-header">
                  <h4>Waiting List</h4>
                </div>
                <div class="card-body">
                  <ul id="waitList" class="list-group"></ul>
                </div>
              </div>
            </div>
          </div>
        <footer>
            <a href="/api/tables">API Table Link</a>
             | 
            <a href="/api/waitlist">API Wait List</a>
        </footer>

        <script type="text/javascript">
            // const submitBtn = document.getElementById('submit-btn');
            const nameEl = document.getElementById('name');
            const phoneNumberEl = document.getElementById('phone');
            const emailEl = document.getElementById('email');
            const idEl = document.getElementById('id');

                fetch(`/api/reservations/${searchedCharacter}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                })
                    .then((response) => response.json())
                    .then((data) => {
                        console.log(data);
                        const { name, phone, email, id} = data;

                        if (data) {
                            nameEl.textContent = name;
                            phoneNumberEl.textContent = phone;
                            emailEl.textContent = email;
                            idEl.textContent = id;
                        } else {
                            nameEl.textContent =
                                "sorry we're closed";
                        }
                    })
                    .catch((error) => {
                        console.error(error);
                    });
            
        </script>

</body>

</html>